## Checklist การทำงาน

- [ ] สร้าง Task พื้นฐานสำเร็จ
- [ ] เข้าใจ Task parameters และ return values
- [ ] ทดสอบ Task priorities
- [ ] ใช้ Task management APIs (suspend/resume)
- [ ] แสดง runtime statistics
- [ ] ทำแบบฝึกหัดครบ

## คำถามทบทวน

1.  **เหตุใด Task function ต้องมี infinite loop?**
    *   Task ในระบบปฏิบัติการ Real-time (RTOS) ถูกออกแบบมาให้ทำงานที่ได้รับมอบหมายอย่างต่อเนื่องและซ้ำๆ (เช่น การอ่านค่าเซ็นเซอร์, การกระพริบไฟ LED) หากไม่มี `infinite loop` Task จะทำงานเพียงครั้งเดียวแล้วจบลง ซึ่งจะทำให้ Scheduler ลบ Task นั้นออกจากระบบไป การมี `infinite loop` ช่วยให้ Task ยังคงอยู่ในระบบและพร้อมที่จะถูกเรียกใช้งานได้ตลอดเวลา

2.  **ความหมายของ stack size ใน xTaskCreate() คืออะไร?**
    *   `stack size` คือขนาดของหน่วยความจำ (RAM) ที่ถูกจองไว้สำหรับ Task นั้นๆ โดยเฉพาะ เพื่อใช้เก็บข้อมูลต่างๆ เช่น local variables, function call parameters, และ context สำหรับการสลับการทำงานของ Task การกำหนดขนาดที่เหมาะสมเป็นสิ่งสำคัญมาก หากน้อยเกินไปจะเกิด Stack Overflow ทำให้โปรแกรมแครช แต่ถ้ามากเกินไปก็จะสิ้นเปลือง RAM โดยไม่จำเป็น

3.  **ความแตกต่างระหว่าง vTaskDelay() และ vTaskDelayUntil()?**
    *   `vTaskDelay()`: เป็นการหน่วงเวลาแบบ **Relative** คือจะหน่วงเวลาตามจำนวน Ticks ที่ระบุ *นับจากเวลาปัจจุบันที่เรียกใช้ฟังก์ชัน* ซึ่งอาจมีความคลาดเคลื่อนสะสมได้หากใช้ในงานที่ต้องการความแม่นยำสูง
    *   `vTaskDelayUntil()`: เป็นการหน่วงเวลาแบบ **Absolute** คือจะหน่วงเวลาเพื่อให้ Task กลับมาทำงานอีกครั้ง ณ *เวลาที่แน่นอนในอนาคต* โดยจะคำนวณเวลาที่ต้องหน่วงโดยอัตโนมัติเพื่อชดเชยเวลาที่ใช้ประมวลผลไป ทำให้เหมาะสำหรับงานที่ต้องทำซ้ำเป็นคาบเวลาที่แม่นยำ (Periodic Tasks)

4.  **การใช้ vTaskDelete(NULL) vs vTaskDelete(handle) ต่างกันอย่างไร?**
    *   `vTaskDelete(NULL)`: เป็นคำสั่งให้ Task **ลบตัวเอง** ออกจากระบบ Task ที่เรียกใช้คำสั่งนี้จะหยุดทำงานทันที
    *   `vTaskDelete(handle)`: เป็นคำสั่งให้ Task หนึ่ง **ไปลบ Task อื่น** โดยระบุผ่าน `handle` (ตัวชี้ไปยัง Task) ของ Task ที่ต้องการลบ

5.  **Priority 0 กับ Priority 24 อันไหนสูงกว่า?**
    *   ใน FreeRTOS, **ตัวเลขยิ่งสูง Priority ยิ่งสูง** ดังนั้น **Priority 24 จึงสูงกว่า Priority 0** ครับ Task ที่มี Priority สูงกว่าจะได้ทำงานก่อน Task ที่มี Priority ต่ำกว่าเสมอ