## Checklist การทำงาน

- [ ] Flash และ Monitor สำเร็จ
- [ ] เห็น Log messages ต่างๆ
- [ ] ทดสอบ Log levels ต่างๆ
- [ ] ใช้ formatted logging ได้
- [ ] ปรับ Log level ผ่าน menuconfig
- [ ] ทำแบบฝึกหัดครบ

## คำถามทบทวน

1.  **ความแตกต่างระหว่าง `printf()` และ `ESP_LOGI()` คืออะไร?**
    *   `printf()`: เป็นฟังก์ชันมาตรฐานของภาษา C สำหรับพิมพ์ข้อความออกทาง `stdout` ตรงๆ ไม่มีฟีเจอร์เสริม เช่น การจัดระดับความสำคัญ, การใส่ TAG, หรือการบอกเวลา
    *   `ESP_LOGI()`: เป็นส่วนหนึ่งของ Logging Library ใน ESP-IDF ซึ่งมีความสามารถสูงกว่ามาก ได้แก่:
        *   **Log Levels**: สามารถกำหนดระดับความสำคัญของ Log ได้ (Info, Warning, Error, Debug) เพื่อกรองข้อความที่จะแสดงผล
        *   **TAG**: สามารถระบุที่มาของ Log ได้ ทำให้ง่ายต่อการ Debug
        *   **Timestamp**: แสดงเวลาที่ Log เกิดขึ้นโดยอัตโนมัติ
        *   **Runtime Filtering**: สามารถเปลี่ยน Log level ของ TAG ที่ต้องการในขณะที่โปรแกรมทำงานอยู่ได้

2.  **Log level ไหนที่จะแสดงใน default configuration?**
    *   ในค่าเริ่มต้น (default configuration) ของ ESP-IDF, Log level จะถูกตั้งไว้ที่ `INFO` ซึ่งหมายความว่า Log ที่มีระดับตั้งแต่ `INFO`, `WARNING`, และ `ERROR` จะถูกแสดงผล ส่วน `DEBUG` และ `VERBOSE` จะถูกซ่อนไว้

3.  **การใช้ `ESP_ERROR_CHECK()` มีประโยชน์อย่างไร?**
    *   `ESP_ERROR_CHECK()` เป็น Macro ที่มีประโยชน์อย่างยิ่งในการจัดการ Error ฟังก์ชันส่วนใหญ่ของ ESP-IDF จะคืนค่า `esp_err_t` กลับมา ถ้าการทำงานสำเร็จจะคืนค่า `ESP_OK` แต่ถ้าล้มเหลวจะคืนค่าอื่น
    *   `ESP_ERROR_CHECK()` จะตรวจสอบค่าที่คืนมา ถ้าไม่ใช่ `ESP_OK` มันจะพิมพ์ข้อความ Error ที่ระบุชื่อไฟล์, บรรทัด, และรหัส Error ออกมา แล้วสั่งให้โปรแกรมหยุดทำงาน (`abort()`) ทันที ประโยชน์หลักคือช่วยให้เราเจอและแก้ไขข้อผิดพลาดได้ทันที แทนที่จะปล่อยให้โปรแกรมทำงานต่อในสถานะที่ไม่ถูกต้อง ซึ่งอาจทำให้เกิดปัญหาที่ซับซ้อนกว่าเดิม

4.  **คำสั่งใดในการออกจาก Monitor mode?**
    *   ใช้คีย์ลัด **`Ctrl + ]`** (กดปุ่ม Control ค้างไว้ แล้วตามด้วยปุ่มวงเล็บเหลี่ยมปิด)

5.  **การตั้งค่า Log level สำหรับ tag เฉพาะทำอย่างไร?**
    *   สามารถทำได้ในขณะที่โปรแกรมทำงาน (Runtime) โดยใช้ฟังก์ชัน `esp_log_level_set()`
    *   **ตัวอย่าง**: `esp_log_level_set("WIFI", ESP_LOG_DEBUG);` จะเป็นการเปิดให้ Log ที่มี TAG เป็น `"WIFI"` แสดงผลในระดับ `DEBUG` ได้ แม้ว่าค่าเริ่มต้นของระบบจะตั้งไว้ที่ `INFO` ก็ตาม